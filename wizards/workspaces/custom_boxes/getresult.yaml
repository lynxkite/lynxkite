- id: anchor
  inputs: {}
  operationId: Anchor
  parameters:
    description: Created from Multi-model prediction
    parameters: >-
      [{"kind":"vertexattribute","id":"ATTR_TO_PREDICT","defaultValue":"","$$hashKey":"object:1568"}]
  parametricParameters: {}
  x: 0.0
  y: 0.0
- id: custom_boxes/linreg_1
  inputs:
    graph:
      boxId: Rename-graph-attributes_1
      id: graph
  operationId: custom_boxes/linreg
  parameters: {}
  parametricParameters:
    ATTR_TO_PREDICT: $ATTR_TO_PREDICT
  x: 817.7827696334698
  y: 52.91387998795881
- id: custom_boxes/aggregate_1
  inputs:
    input:
      boxId: Rename-graph-attributes_1
      id: graph
  operationId: custom_boxes/aggregate
  parameters: {}
  parametricParameters:
    ATTR_TO_PREDICT: $ATTR_TO_PREDICT
  x: 809.9179013058914
  y: 325.18263414773514
- id: custom_boxes/viral_1
  inputs:
    graph:
      boxId: custom_boxes/aggregate_1
      id: output
  operationId: custom_boxes/viral
  parameters: {}
  parametricParameters:
    ATTR_TO_PREDICT: $ATTR_TO_PREDICT
  x: 946.3058898195209
  y: 589.6677297065374
- id: custom_boxes/unify_1
  inputs:
    graph:
      boxId: custom_boxes/linreg_1
      id: graph 2
    graph attribute:
      boxId: custom_boxes/aggregate_1
      id: output
    source 2:
      boxId: custom_boxes/viral_1
      id: graph
  operationId: custom_boxes/unify
  parameters: {}
  parametricParameters:
    ATTR_TO_PREDICT: $ATTR_TO_PREDICT
  x: 1148.9457968097934
  y: 235.09562689468729
- id: SQL1_2
  inputs:
    input:
      boxId: Discard-vertex-attributes_1
      id: graph
  operationId: SQL1
  parameters:
    sql: |
      select * from vertices
  parametricParameters: {}
  x: 1791.01158567515
  y: 259.2616107904373
- id: Derive-graph-attribute_1
  inputs:
    graph:
      boxId: input-graph
      id: input
  operationId: Derive graph attribute
  parameters:
    expr: '1.0'
  parametricParameters:
    output: |-
      internal_${vertexAttributes
      .map(_.name).mkString(",")}
  x: 162.32124009194723
  y: 321.2605958154395
- id: input-graph
  inputs: {}
  operationId: Input
  parameters:
    name: graph
  parametricParameters: {}
  x: 0.0
  y: 150.0
- id: Discard-vertex-attributes_1
  inputs:
    graph:
      boxId: custom_boxes/unify_1
      id: graph
  operationId: Discard vertex attributes
  parameters: {}
  parametricParameters:
    name: |-
      ${
      val origs = graphAttributes
      .filter(_.name.startsWith("internal_"))
      .map(_.name)
      .head
      vertexAttributes
      .map(_.name)
      .filterNot{x => origs.contains(x)}
      .filterNot(_.endsWith("_viral_prediction"))
      .filterNot(_.endsWith("_linreg_prediction"))
      .filterNot(_.endsWith("_aggregate_prediction"))
      .mkString(",")
      }
  x: 1479.4452507743642
  y: 250.07935982548838
- id: output-table
  inputs:
    output:
      boxId: SQL1_2
      id: table
  operationId: Output
  parameters:
    name: table
  parametricParameters: {}
  x: 1991.01158567515
  y: 150.0
- id: Derive-vertex-attribute_1
  inputs:
    graph:
      boxId: Derive-graph-attribute_1
      id: graph
  operationId: Derive vertex attribute
  parameters:
    output: internal_for_average
  parametricParameters:
    expr: $ATTR_TO_PREDICT
  x: 184.29773431150176
  y: 568.4671144082854
- id: Aggregate-vertex-attribute-globally_1
  inputs:
    graph:
      boxId: Derive-vertex-attribute_1
      id: graph
  operationId: Aggregate vertex attribute globally
  parameters:
    aggregate_internal_for_average: average
  parametricParameters: {}
  x: 470.97606411076436
  y: 613.2666127058583
- id: Rename-graph-attributes_1
  inputs:
    graph:
      boxId: Discard-vertex-attributes_2
      id: graph
  operationId: Rename graph attributes
  parameters:
    change_internal_for_average_average: average
  parametricParameters: {}
  x: 541.6619194464358
  y: 256.8917138823741
- id: Discard-vertex-attributes_2
  inputs:
    graph:
      boxId: Aggregate-vertex-attribute-globally_1
      id: graph
  operationId: Discard vertex attributes
  parameters:
    name: internal_for_average
  parametricParameters: {}
  x: 385.0
  y: 434.0
